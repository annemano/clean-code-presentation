name: Go build and test CLI TEST

on:
  workflow_dispatch:
    inputs:
      tag:
        description: 'put one commit hash'
        type: string
        required: true

concurrency:
  group: ci-${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

env:
  GO_VERSION: '1.22.x'

jobs:
  prepare-release:
    runs-on: ubuntu-latest
    steps:
      - name: "Testing manual workflow"
        run: |
          TAG=${{ github.event.inputs.tag }} >> $GITHUB_ENV
          echo 
      - name: "Create Git tag"
        run: |
          git config --global user.name "github-actions"
          git config --global user.email "github-actions@github.com"
          git tag -a "$TAG" -m "Tagging version $TAG"
          git push origin "$TAG"

